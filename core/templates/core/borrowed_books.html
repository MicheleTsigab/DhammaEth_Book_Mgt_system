{% extends "base.html" %}
{% load crispy_forms_tags %}

{% load widget_tweaks %}
{% block content %}

  <form method="get">
  <div class="card m-2">
  <div class="card-body">
  <div class="row ">
    <h4 style="text-align: center" >Borrowed Books</h4>
    
    <div class="  form-group col-xl-4 col-sm-4 col-md-3">
      {{ filter.form.id.label_tag }}
      {% render_field filter.form.id class="form-control" %}
    </div>  
    <div class=" form-group col-xl-4 col-sm-4 col-md-3">
      {{ filter.form.book__title.label_tag }}
      {% render_field filter.form.book__title class="form-control" %}
    </div> 
    <div class=" form-group col-xl-4 col-sm-4 col-md-3">
      {{ filter.form.borrowed_date.label_tag }}
      {% render_field filter.form.borrowed_date class="form-control" %}
    </div> 
    <div class=" form-group col-xl-4 col-sm-4 col-md-3">
      {{ filter.form.borrower__first_name.label_tag }}
      {% render_field filter.form.borrower__first_name class="form-control" %}
    </div> 
    <div class=" form-group col-xl-4 col-sm-4 col-md-3">
      {{ filter.form.borrower__last_name.label_tag }}
      {% render_field filter.form.borrower__last_name class="form-control" %}
    </div> 
    
    <div class=" form-group col-xl-4 col-sm-4 col-md-3 mt-4">
    <button type='submit' class='col-auto btn btn-primary'>Filter</button>
    </div>
  </div>
</div>
</div>
</form>


<table class="table table-striped table-hover mr-2">
    <thead>
        <tr>
          <th scope="col">Id</th>
          <th scope="col">Title</th>
          <th scope="col">Borrower</th>
          <th scope="col">Borrowed Date</th>
          
        </tr>
      </thead>
            <tbody>
              {% for obj in instances %}
              <tr>
                <td scope="row">{{ obj.id }}</td>
                <td scope="row">{{ obj.book.title}}</td>
                <td scope="row">{{ obj.borrower }}</td>
                <td scope="row">{{ obj.borrowed_date }}</td>
                <td scope="row"><a href="{% url 'return-instance' obj.id%}"><button type='button' class='btn btn-primary'>Return</button></a></td>
              </tr>
              {% endfor %}
            </tbody>
   
</table>
{%endblock%}